(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){e.exports=t(23)},15:function(e,n,t){},18:function(e,n,t){},23:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(8),c=t.n(r),i=(t(15),t(5)),l=t(1),s=t(3),u=t(9),m=(t(18),t(6)),d=t.n(m),v=function(e){var n=Object(a.useState)(null),t=Object(s.a)(n,2),r=t[0],c=t[1],m=Object(a.useState)(null),v=Object(s.a)(m,2),f=v[0],p=v[1],h=Object(a.useState)(null),b=Object(s.a)(h,2),g=b[0],E=b[1],y=Object(a.useState)(!0),w=Object(s.a)(y,2),O=w[0],j=w[1],k=Object(a.useState)(!1),C=Object(s.a)(k,2),N=C[0],x=C[1],D=Object(u.a)(),S=D.register,M=D.handleSubmit,L=[{name:"",shape:"poly",coords:[],preFillColor:"rgba(0, 0, 255, 0.15)",fillColor:"rgba(0, 0, 255, 0.2)",hoverDescription:"",clickedDescription:""}],W=Object(a.useState)({name:"adminLayout",areas:L}),Y=Object(s.a)(W,2),A=Y[0],I=Y[1],X=Object(a.useState)({name:"userLayout",areas:[]}),B=Object(s.a)(X,2),J=B[0],R=B[1];Object(a.useEffect)(function(){console.log(J),console.log(A)},[O]);var _="https://c1.staticflickr.com/5/4052/4503898393_303cfbc9fd_b.jpg",F=function(e){var n={x:e.nativeEvent.layerX,y:e.nativeEvent.layerY};E("You moved on the image at coords ".concat(JSON.stringify(n)))},U=function(){var e=L,n=Object(i.a)({},A,{areas:e});I(n),j(!O)};Object(a.useEffect)(function(){j(!0)},[O]);var T;return o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"mainButton"},o.a.createElement("button",{type:"submit",onClick:function(){return x(!N)}},N?"Admin mode on":"Admin mode Off")),N?o.a.createElement("div",{className:"grid"},o.a.createElement("h2",null,"Admin layout:"),o.a.createElement("div",{className:"presenter"},o.a.createElement(d.a,{src:_,map:A,width:500,onImageClick:function(e){return function(e){var n={x:e.nativeEvent.layerX,y:e.nativeEvent.layerY},t=Object(l.a)(A.areas);t.push({name:"1",shape:"circle",coords:[n.x,n.y,1],preFillColor:"yellow",lineWidth:6}),t[0].coords.push(n.x),t[0].coords.push(n.y);var a=Object(i.a)({},A,{areas:t});I(a)}(e)},onClick:function(e,n,t){return function(e,n){var t={x:n.nativeEvent.layerX,y:n.nativeEvent.layerY},a=Object(l.a)(A.areas);a.push({name:"1",shape:"circle",coords:[t.x,t.y,1],preFillColor:"yellow",lineWidth:6}),console.log(t),a[0].coords.push(t.x),a[0].coords.push(t.y);var o=Object(i.a)({},A,{areas:a});I(o)}(0,t)},onImageMouseMove:function(e){return F(e)}}),o.a.createElement("div",{className:"message"},g||null)),o.a.createElement("div",{className:"form"},o.a.createElement("div",null),o.a.createElement("form",{onSubmit:M(function(e){var n=Object(l.a)(J.areas);n.push(A.areas[0]),A.areas[0].name=e.name,A.areas[0].hoverDescription=e.hoverDescription,A.areas[0].clickedDescription=e.clickedDescription;var t=Object(i.a)({},J,{areas:n});R(t),U()})},o.a.createElement("label",null,"Name"),o.a.createElement("input",{name:"name",ref:S}),o.a.createElement("label",null,"Hover Description"),o.a.createElement("input",{name:"hoverDescription",ref:S}),o.a.createElement("label",null,"Clicked Desctiption"),o.a.createElement("input",{name:"clickedDescription",ref:S}),o.a.createElement("div",{className:"twoButtons"},o.a.createElement("div",null),o.a.createElement("button",{type:"submit"},"Add Polygon"),o.a.createElement("button",{type:"submit",onClick:function(){return U()}},"Reset"))))):null,o.a.createElement("div",{className:"grid"},o.a.createElement("h2",null,"User layout:"),o.a.createElement("div",{className:"presenter"},o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(d.a,{src:_,map:J,width:500,onImageClick:function(e){return function(e){var n={x:e.nativeEvent.layerX,y:e.nativeEvent.layerY};c("You clicked on the ".concat("Modern art exbition"," image at coords ").concat(JSON.stringify(n)))}(e)},onImageMouseMove:function(e){return F(e)},onLoad:function(){0===A.areas[0].coords.length?c("Use Admin Mode to add some areas !"):c("Let's interact with image !")},onMouseMove:function(e,n,t){return function(e,n){var t=n.nativeEvent.layerX,a=n.nativeEvent.layerY;E("You moved on "+e.shape+" "+e.name+' at coords {"x":'+t+',"y":'+a+"}")}(e,t)},onClick:function(e){return function(e){c("Clicked area: ".concat(e.name," -> ").concat(e.hoverDescription,". ").concat(e.clickedDescription))}(e)},onMouseEnter:function(e){return function(e){p(e),c("Entered: ".concat(e.hoverDescription))}(e)},onMouseLeave:function(e){return function(e){p(null),c("Leaved: ".concat(e.name))}(e)},lineWidth:2,strokeColor:"rgba(255, 255, 255, 0.1)"}),o.a.createElement("div",{className:"message"},g||null),f&&o.a.createElement("span",{className:"tooltip",style:Object(i.a)({},(T=f,{top:"".concat(T.center[1],"px"),left:"".concat(T.center[0],"px")}))},f&&f.name))),o.a.createElement("div",{className:"userMessage"},r||null)))},f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(v,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/React_Course",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/React_Course","/service-worker.js");f?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()}},[[10,1,2]]]);
//# sourceMappingURL=main.c6daac9f.chunk.js.map